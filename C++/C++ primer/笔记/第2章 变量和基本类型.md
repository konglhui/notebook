## 第2章 变量和基本类型

## 基本内置类型

C++风衣了艺涛包括算数类型（arithmetic type）和空类型（void）。算数类型包括（字符、整数型、布尔值和浮点数）

### 2.1.1 算数类型

![mark](http://p6yio0wew.bkt.clouddn.com/blog/180524/1CG5441b3B.png)

#### 带符号类型和无符号类型*

出去布尔型和扩展的字符型之外，其他整形可以划分为带符号的和无符号的。

通过对类型明前添加unsigned就可以得到无符号类型。

与其他整形不同，字符型分了三种：char、signed char和unsigned char。特别需要注意的，cahr与signed char并不一样。尽管字符型有三种，但自负的表现形式只有两种：带符号和无符号。

![mark](http://p6yio0wew.bkt.clouddn.com/blog/180524/Dd7c09e7K0.png)

## 2.1.2 类型转换

类型所能表示的值的范围决定了转换的过程：

- 当我们把一个非布尔类型的算数值给布尔类型时，初始值为0则结果为false，够则结果为true。
- 当我们把一个布尔值赋给非布尔类型时，初始值为false则结果为0，初始值为true则结果为1.
- 当我们把一个浮点数赋给整数类型时，进行了近似处理。结果值将仅保留浮点数中小数点之前的部分。
- 当我们吧一个整数值赋给浮点类型时，小数部分记为0.如果该整数所占的空间超过了浮点类型的容量，精度可能有损失。
- 当我们赋给无符号类型一个超出它表示范围的值时，结果是初始值对无符号类型表示数值总数取模后的余数。
- 当我们赋给带符号类型一个超出它表示范围的值时，结果是未定义的（undefined）。此时程序可能继续工作、可能奔溃、也可能生成垃圾数据。

![mark](http://p6yio0wew.bkt.clouddn.com/blog/180524/1EgGj7LmJg.png)

#### 含有无符号类型的表达式

```c++
#include <iostream>

int main()
{
    unsigned u = 10;
    int i = -42;
    std::cout << i+i<<std::endl;
    std::cout << i+u <<std::endl;
    return 0;
}
```



![mark](http://p6yio0wew.bkt.clouddn.com/blog/180524/cFg5CEbmg0.png)

### 2.1.3字面值常量

形如42的值被称作字面值常量（literal）。

#### 整数和浮点数字面值

我们能用下面的任意一种形式表示数值20：

```c++
20 	//十进制
024	//8进制
0x14//16进制
```

#### 字符和字符串字面值

由单引号阔起来的字符称为char型字面值，双引号括起来的另个或多个字符则构成字符串型字面值。

```c++
'a' 			//字符字面值
"Hello word!"	//字符串字面值
```

字符串字面值的类型实际上是由常量字符构成的数组。而字符串“A”则代表了一个字符的数组，该数组包含两个字符：一个是字母A，另一个是空字符。

#### 转义系列

![mark](http://p6yio0wew.bkt.clouddn.com/blog/180524/Ck5mjd8HEd.png)

#### 指定字面值的类型

![mark](http://p6yio0wew.bkt.clouddn.com/blog/180524/1HAlI4F174.png)



#### 布尔字面值和指针字面值

true 和 false 是布尔类型的字面值。

nullptr 是指针字面值。

## 2.2 变量

### 2.2.1 变量定义

变量定义的基本形式是：首先是类型说明符（type specifier），随后紧跟一个或多个变量名组成的列表，变量名以逗号分隔，最后以分好结束。

![mark](http://p6yio0wew.bkt.clouddn.com/blog/180524/f8Efm9Fk5G.png)

#### 初始值

当对象在创建时获得了一个特定的值，我们说这个对象被初始化（initialized）了。

在C++中赋值与初始化并不一样。初始化的含义是创建变量时赋予其一个初始值，而赋值的含义是把对象的当前值擦除，而以一个新值来代替。

以下4个语句都可以实现初始化：

```c++
int a = 0;
int a = {0}; //用列表初始化内置类型的变量时，如果存在丢失信息的风险，则编译器将报错。
int a{0};
int a(0);
```

#### 默认初始化

如果定义变量时没有初值，则变量被默认初始化，此时变量被赋予默认值。默认值是什么有变量类型决定，同时定义变量的位置也会对此有影响。

定义在函数体内部类型的对象如果没有初始化，则其值未定义，入伏哦试图拷贝或以其他形式访问此类值将引发错误。类的对象如果没有显式地初始化，则其值由类确定。

![mark](http://p6yio0wew.bkt.clouddn.com/blog/180524/1akbgJ216H.png)











